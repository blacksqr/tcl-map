<?xml version="1.0" encoding="iso-8859-1"?>
<html>
  <head>
    <meta name="generator"
    content="HTML Tidy for Windows (vers 1 September 2005), see www.w3.org" />
    <title>Overview of NAP</title>
  </head>
  <body>
  <center>
    <h2>Overview of NAP (N-Dimensional Array Processor)</h2>
  </center>
  <p>NAP is a loadable extension of 
  <a href="http://wiki.tcl.tk/">Tcl</a>. NAP provides a powerful and
  efficient facility for processing data in the form of n-dimensional
  arrays. It has been designed to provide a tcl-flavoured
  array-processing facility with much of the functionality of languages
  such as 
  <a href="http://www.acm.org/sigapl/">APL</a>, 
  <a href="http://www.fortran.com/fortran/">Fortran-90</a>, 
  <a href="http://www.rsinc.com/idl/index.asp">IDL</a>, 
  <a href="http://www.jsoftware.com/">J</a>, 
  <a href="http://www.mathworks.com/">matlab</a> and 
  <a href="http://www.octave.org/">octave</a>. Three other tcl
  extensions which provide array-processing facilities are 
  <a href="http://www-obs.univ-lyon1.fr/%7Ethiebaut/TiM/TiM.html">TiM</a>,
  
  <a href="http://sourceforge.net/projects/blt/">BLT</a> and 
  <a href="http://www.gm.com/automotive/innovations/rnd/TK3/TK3D_Software_Description.html"> Tk3D</a>.</p>
  <p>Existing Tcl facilities (e.g. Tcl variables and procedures) are
  used where appropriate. The new facilities have been designed to
  match similar existing ones. In particular, NAP expressions use
  conventions which are essentially a superset of those of the Tcl 
  <code>expr</code> command. Support is provided for data based on 
  <em>n-dimensional grids</em>, where the dimensions correspond to
  continuous spatial coordinates. There are interfaces to the 
  <a href="http://hdf.ncsa.uiuc.edu">HDF</a> and 
  <a href="http://www.unidata.ucar.edu/packages/netcdf/index.html">netCDF</a>
  file formats commonly used for such data, especially in Earth
  sciences such as Oceanography and Meteorology. There is a new photo
  image format for NAP data.</p>
  <p>NAP was developed as part of the CSIRO 
  <a href="http://www.dar.csiro.au/rs/avhrr_processing_software.htm">CAPS</a>
  project, but can be loaded and used without the (satellite oriented)
  CAPS extension. However the CAPS extension requires NAP since most
  CAPS data are stored as NAOs.</p>
  <p>Data are stored in memory as 
  <em>n-dimensional array objects (NAOs)</em>, which include
  information such as:</p>
  <ul>
    <li>data-type</li>
    <li>unique ID (handle generated by NAP) called the 
    <em>OOC-name</em> (OOCs are discussed below)</li>
    <li>optional label</li>
    <li>optional C format</li>
    <li>optional unit of measure</li>
    <li>reference count (allowing automatic deletion of the NAO when it
    is no longer needed)</li>
    <li>optional missing-value (used to indicate undefined data,
    etc.)</li>
    <li>rank (number of dimensions)</li>
    <li>dimension sizes</li>
    <li>optional dimension names</li>
    <li>optional pointers to 
    <em>coordinate-variable</em> NAOs associated with each
    dimension</li>
  </ul>There are eleven data-types, six for integers, two for
  floating-point, one for characters, one 
  <em>pointer</em> type (allowing arrays of arrays) and a 
  <em>ragged</em> type providing a form of compression.
  <p>NAOs are created by the Tcl commands 
  <code>nap</code> and 
  <code>nap_get</code>.</p>
  <p>The 
  <code>nap</code> command takes arguments specifying an expression in
  a manner similar to the 
  <code>expr</code> command. However, unlike 
  <code>expr</code>, 
  <code>nap</code> provides:</p>
  <ul>
    <li>assignment (to a Tcl variable whose value is set to the
    OOC-name of the resultant NAO)</li>
    <li>substitution of Tcl names (obviating the need for &quot;<code>$</code>&quot; prefixes)</li>
    <li>array facilities (constants, operators, functions,
    indexing)</li>
  </ul>Array indices can take fractional values, which are defined by
  n-dimensional linear interpolation. Index values can be specified
  indirectly via coordinate-variable values (e.g. latitudes and
  longitudes).
  <p>The 
  <code>nap_get</code> command creates a NAO from data read from a
  binary, HDF or netCDF file. Some platforms (only Linux on Intel 386
  at the time of writing) support reading of remote virtual netCDF
  files provided by 
  <a href="http://www.opendap.org/">OPeNDAP</a> (a.k.a. 
  <em>DODS</em>) web servers.</p>
  <p>Every NAO has an associated Tcl command called an 
  <em>object-oriented command</em> (
  <em>OOC</em>). This is used to:</p>
  <ul>
    <li>display the data in the NAO</li>
    <li>display other information about the NAO such as its data-type
    and dimensions</li>
    <li>change data and other details</li>
    <li>write data from the NAO to a binary, HDF or netCDF file</li>
  </ul>
  <p>As usual in Tcl, OOC and 
  <code>nap_get</code> command options can be abbreviated provided
  there is no ambiguity.</p>
  <p>NAP provides many operators and built-in functions. One can define
  new functions by defining Tcl procedures with the 
  <code>proc</code> command. It is also possible to call functions
  written in C and Fortran.</p>
  <p>The 
  <em>caps/nap GUI</em> provides browsers for:</p>
  <ul>
    <li>Tcl variables</li>
    <li>image files (e.g. GIF, JPEG)</li>
    <li>AVHRR satellite files (caps package required)</li>
    <li>ATSR satellite files (caps package required)</li>
    <li>CIF files (Melbourne University format)</li>
    <li>HDF/netCDF files</li>
  </ul>The HDF/netCDF browser is a convenient tool for quickly browsing
  HDF and netCDF files. Selected data can be
  <ul>
    <li>displayed as text</li>
    <li>graphed</li>
    <li>shown as various kinds of images and maps</li>
    <li>animated</li>
    <li>used to create a NAO for further processing using NAP</li>
  </ul>
  <table width="100%" border="0" cellspacing="0" cellpadding="2"
  bgcolor="#737B9C">
    <tr>
      <td align="center">
        <font color="#FFFFFF" size="-2">
          <span class="titlebar">
          <b>Author:</b> 
          <a href="http://sourceforge.net/users/dav480/">Harvey
          Davies</a> &#160; &#160; &#160; © 2002, CSIRO Australia.
          &#160; &#160; &#160; 
          <a href="http://www.csiro.au/legalnotices/disclaimer.html">Legal
          Notice and Disclaimer</a>
          <br />
          <b>CVS Version Details:</b> $Id: overview.html,v 1.11
          2005/01/19 03:31:41 dav480 Exp $</span>
        </font>
      </td>
    </tr>
  </table></body>
</html>
