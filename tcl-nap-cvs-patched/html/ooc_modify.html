<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Id: ooc_modify.html,v 1.8 2006/02/08 06:00:01 dav480 Exp $ -->
<html>
  <head>
    <meta name="generator"
    content="HTML Tidy for Windows (vers 1 September 2005), see www.w3.org" />
    <title>OOC Methods: Modify</title>
  </head>
  <body>
  <center>
    <h2>OOC Methods which Modify NAO</h2>
  </center>
  <h3>Table of Contents</h3>
  <ol>
    <li>
      <a href="#draw">Method 
      <code>draw</code></a>
    </li>
    <li>
      <a href="#fill">Method 
      <code>fill</code></a>
    </li>
    <li>
      <a href="#set">Method 
      <code>set</code></a>
      <ol>
        <li>
          <a href="#set_coordinate">set coordinate</a>
        </li>
        <li>
          <a href="#set_count">set count</a>
        </li>
        <li>
          <a href="#set_dimension">Set dimension</a>
        </li>
        <li>
          <a href="#set_format">set format</a>
        </li>
        <li>
          <a href="#set_label">set label</a>
        </li>
        <li>
          <a href="#set_link">Set link</a>
        </li>
        <li>
          <a href="#set_missing">Set missing</a>
        </li>
        <li>
          <a href="#set_unit">Set unit</a>
        </li>
        <li>
          <a href="#set_value">Set value</a>
        </li>
      </ol>
    </li>
  </ol>
  <h3>
    <a name="draw">Method <code>draw</code></a>
  </h3>
  <p>
  <var>ooc_name</var> 
  <code>draw</code> 
  <var>xy</var> ?
  <var>value</var>?
  <br /></p>
  <p>This draws a polyline in the NAO 
  <var>ooc_name</var>, which must be type 
  <code>f32</code> in the current version. It sets data elements on the
  polyline defined by NAO 
  <var>xy</var> to the value of scalar NAO 
  <var>value</var> (default: missing value). NAO 
  <var>xy</var> can be:</p>
  <ul>
    <li>matrix with 2 rows, row 0 is x values, row 1 is y values</li>
    <li>vector of y values with coordinate variable (CV) of x
    values</li>
    <li>vector of y values without CV (x defaults to 0 1 2 3 &#8230;)
    <br />The polyline is not closed, so to draw a polygon, the first
    point should be duplicated at the end.</li>
  </ul>
  <p>Example:</p>
  <pre>
% [nap &quot;z = reshape(0f32, 2 # 5)&quot;] draw y 1
% $z
1 0 0 0 0
0 1 0 0 0
0 1 0 0 0
0 0 1 0 0
0 0 1 0 0
</pre>
  <h3>
    <a name="fill">Method <code>fill</code></a>
  </h3>
  <p>
  <var>ooc_name</var> 
  <code>fill</code> 
  <var>xy</var> ?
  <var>value</var>?
  <br /></p>
  <p>This fills a polygon in the NAO 
  <var>ooc_name</var>, which must be type 
  <code>f32</code> in the current version. It sets data elements within
  the polygon defined by NAO 
  <var>xy</var> to the value of the scalar NAO 
  <var>value</var> (default: missing value).
  <br />NAO 
  <var>xy</var> can be:</p>
  <ul>
    <li>matrix with 2 rows, row 0 is x values, row 1 is y values</li>
    <li>vector of y values with coordinate variable (CV) of x
    values</li>
    <li>vector of y values without CV (x defaults to 0 1 2 3 &#8230;)
    <br />The polygon is closed (unlike 
    <code>draw</code> method).</li>
  </ul>
  <p>Example:</p>
  <pre>
% [nap &quot;z = reshape(0f32, 2 # 8)&quot;] fill &quot;{{2 2 4 4}{2 4
4 2}}&quot; 1
% $z value
0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0
0 0 1 1 1 0 0 0
0 0 1 1 1 0 0 0
0 0 1 1 1 0 0 0
0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0
</pre>
  <h3>
    <a name="set">Method <code>set</code></a>
  </h3>
  <p>
  <var>ooc_name</var> 
  <code>set</code> 
  <var>attribute arg arg</var> &#8230;</p>
  <p>This modifies the NAO attribute specified by 
  <var>attribute</var>. The sub-methods corresponding to these
  attributes are discussed below in separate sections. Note that the
  names of these attributes is the same as that of the method which
  returns their value.</p>
  <h4>
    <a name="set_coordinate">set coordinate</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set coordinate</code> 
  <var>coord_var</var> 
  <var>coord_var</var> 
  <var>coord_var</var> &#8230;
  <br /></p>
  <p>This sets one or more coordinate variables.
  <br />
  <var>coord_var</var> can be a name, OOC-name or 
  <code>&quot;&quot;</code>.
  <br />If 
  <var>coord_var</var> is a valid name then this is also used as
  dimension name if this is undefined.
  <br />If 
  <var>coord_var</var> is 
  <code>&quot;&quot;</code> then any existing coordinate variable is
  removed.
  <br />If the number of 
  <var>coord_var</var> arguments &lt; rank then trailing values default
  to 
  <code>&quot;&quot;</code>. Thus the following command removes all
  coordinate variables:</p>
  <pre>
<var>ooc_name</var> se coo
</pre>
  <p>An example is provided in 
  <a href="ooc_meta.html#coordinate">Method <code>coordinate</code></a>.</p>
  <h4>
    <a name="set_count">set count</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set count</code> ?
  <var>int</var>? ?
  <code>-keep</code>?
  <br /></p>
  <p>This sets or increments the reference count. One situation where
  this facility is needed is where a GUI window points to a NAO and
  must be retained until the window is destroyed.
  <br />
  <code>-keep</code>: Do not delete NAO (with new count = 0)
  <br />
  <br />
  <code>-keep</code>: Do not delete NAO with reference count of 0 If 
  <var>int</var> is signed then add it to reference count.
  <br />If 
  <var>int</var> is unsigned then set reference count to 
  <var>int</var>.
  <br />If 
  <var>int</var> not specified then add 1 to reference count (i.e.
  treat as &quot;+1&quot;)</p>
  <h4>
    <a name="set_dimension">Set dimension</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set dimension</code> 
  <var>dim_name</var> 
  <var>dim_name</var> 
  <var>dim_name</var> &#8230;
  <br /></p>
  <p>This sets one or more dimension names.
  <br />If 
  <var>dim_name</var> is a tcl name pointing to a NAO then this also
  defines the coordinate variable if this is undefined.
  <br />If 
  <var>dim_name</var> is 
  <code>&quot;&quot;</code> then any existing dimension name is
  removed.
  <br />If the number of 
  <var>dim_name</var>s &lt; rank then trailing values default to 
  <code>&quot;&quot;</code>. Thus the following command removes all
  dimension names:</p>
  <pre>
<var>ooc_name</var> se d
</pre>
  <p>Example:</p>
  <pre>
% $x set dim time
% $x dim
</pre>
  <h4>
    <a name="set_format">set format</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set format</code> ?
  <var>string</var>?
  <br /></p>
  <p>This sets the C format for printing. The default is NULL i.e. no
  format.</p>
  <p>An example is provided in 
  <a href="ooc_meta.html#format">Method <code>format</code></a>.</p>
  <h4>
    <a name="set_label">set label</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set label</code> ?
  <var>string</var>?
  <br /></p>
  <p>This sets the label (title). The default is NULL i.e. no
  label.</p>
  <p>An example is provided in 
  <a href="ooc_meta.html#label">Method 
  <code>label</code></a>.</p>
  <h4>
    <a name="set_link">Set link</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set link</code> ?
  <var>nao</var>?
  <br /></p>
  <p>This sets the link slot number to point to a NAO
  <br />The default is NULL i.e. no link.</p>
  <p>An example is provided in 
  <a href="ooc_meta.html#link">Method <code>link</code></a>.</p>
  <h4>
    <a name="set_missing">Set missing</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set missing</code> ?
  <var>value</var>?
  <br /></p>
  <p>This sets the missing value. The default is NULL i.e. no missing
  value.</p>
  <p>Example:</p>
  <pre>
% $x set miss 0
% $x
_ 0.5 1 1.5 2
</pre>
Note that the value of 0 is now treated as missing.
  <h4>
    <a name="set_unit">Set unit</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set unit</code> ?
  <var>unit</var>?
  <br /></p>
  <p>This sets the unit of measure. The default is NULL i.e. no
  unit.</p>
  <p>An example is provided in 
  <a href="ooc_meta.html#unit">Method <code>unit</code></a>.</p>
  <h4>
    <a name="set_value">Set value</a>
  </h4>
  <p>
  <var>ooc_name</var> 
  <code>set value</code> ?
  <var>value</var>? ?
  <var>index</var>?
  <br /></p>
  <p>This sets the value of data elements selected by NAO 
  <var>index</var> to new values copied from successive elements of NAO
  
  <var>value</var>.</p>
  <p>If 
  <var>value</var> is absent or 
  <code>&quot;&quot;</code> it is treated as the null (missing) value.
  Elements of 
  <var>value</var> are recycled if necessary.</p>
  <p>If 
  <var>index</var> is absent or 
  <code>&quot;&quot;</code> it is treated as the whole array. The 
  <var>index</var> expression can include the operators &quot;<code>,</code>&quot; (giving 
  <a href="indexing.html#Cross_product_index">cross-product-indexing</a>)
  and &quot;<code>@@</code>&quot; (giving 
  <a href="indexing.html#indirect_indexing">indirect indexing</a>).
  However 
  <a href="indexing.html#Full_index">full-indexing</a> is not yet
  implemented.</p>
  <p>Note that the NAP assignment operator &quot;<code>=</code>&quot; does not allow its left operand to be indexed,
  as in &quot;<code>v(2) = 9</code>&quot;. However the &quot;<code>set value</code>&quot; method does provide a way to modify all
  or part of an array. The following example sets element 2 of 
  <code>v</code> to 9:</p>
  <pre>
% nap &quot;v = {3 6 4 7}&quot;
::NAP::52-52
% $v set value 9 2
% $v
3 6 9 7
</pre>
  <p>The following example changes elements 1 to 3. Note how the
  elements of 
  <var>value</var> are recycled.</p>
  <pre>
% $v set value &quot;{8 5}&quot; &quot;1 .. 3&quot;
% $v
3 8 5 8
</pre>
  <p>The following example illustrates indirect indexing:</p>
  <pre>
% $v set coo &quot;10 .. 40 ... 10&quot;
% $v set value 0 &quot;@@{20 40}&quot;
% $v
3 0 5 0
</pre>
  <p>The following example illustrates cross-product indexing:</p>
  <pre>
% [nap &quot;matrix = {{0 2 4}{1 3 5}}&quot;]
0 2 4
1 3 5
% $matrix set v 9 0,2; # Note that &#39;value&#39; can be abbreviated
to &#39;v&#39;
% $matrix
0 2 9
1 3 5
% $matrix set v &quot;-1 .. -9&quot; &quot;,{0 2}&quot;
% $matrix
-1  2 -2
-3  3 -4
</pre>
  <table width="100%" border="0" cellspacing="0" cellpadding="2"
  bgcolor="#737B9C">
    <tr>
      <td align="center">
        <font color="#FFFFFF" size="-2">
          <span class="titlebar">
          <b>Author:</b> 
          <a href="http://sourceforge.net/users/dav480/">Harvey
          Davies</a> &#160; &#160; &#160; © 2002, CSIRO Australia.
          &#160; &#160; &#160; 
          <a href="http://www.csiro.au/legalnotices/disclaimer.html">Legal
          Notice and Disclaimer</a>
          <br />
          <b>CVS Version Details:</b> $Id: ooc_modify.html,v 1.2
          2004/10/25 09:01:26 dav480 Exp $</span>
        </font>
      </td>
    </tr>
  </table></body>
</html>
